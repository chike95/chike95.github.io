import{_ as s,c as i,o as a,a4 as t}from"./chunks/framework.4aTu-Nia.js";const l="/assets/image-9.B6R1ehIO.png",p="/assets/image-10.pKJz0hRj.png",n="/assets/image-8.uId53W-I.png",e="/assets/image-11.Bmy_O_Rs.png",h="/assets/image-12.CImj3mYV.png",k="/assets/image-6.BtNJv52f.png",d="/assets/image-7.COH23ND_.png",o="/assets/image-5.C6QyX0XQ.png",r="/assets/image-13.BwSPIKdZ.png",c="/assets/image-14.gNN5bx0B.png",g="/assets/image-15.DVphAljI.png",F="/assets/image-3.BOLiTke5.png",u="/assets/image-16.CG9G8DSB.png",y="/assets/42207fe8e3bf6b3a2f213314e21ed01.B4lMjrZB.png",w=JSON.parse('{"title":"双系统配置","description":"","frontmatter":{},"headers":[],"relativePath":"work/deploy/dual-system.md","filePath":"work/deploy/dual-system.md"}'),b={name:"work/deploy/dual-system.md"},C=t('<h1 id="双系统配置" tabindex="-1">双系统配置 <a class="header-anchor" href="#双系统配置" aria-label="Permalink to &quot;双系统配置&quot;">​</a></h1><h2 id="简要说明" tabindex="-1">简要说明 <a class="header-anchor" href="#简要说明" aria-label="Permalink to &quot;简要说明&quot;">​</a></h2><p>1）设置 BIOS，确保断电后，来电就启动本系统。</p><p>2）安装 win10 企业版，激活，尽可能升级最新。通常用 2~4TB 机械盘直接安装，不用 NVMe 盘，也不用 SSD 盘。分出 100GB 用作 D 盘备份常用安装软件，其余都用作系统盘。</p><p>3）安装 linux 子系统，win10 会默认安装在 C 盘里。再安装 OpenJDK1.8，安装 MySQL5.7。</p><p>4）在 windows 下添加启动脚本，确保开机启动 linux 下的相关程序。</p><p>5）linux 子系统中安装监测采集，和监测查看的系统。</p><h2 id="计算机系统" tabindex="-1">计算机系统 <a class="header-anchor" href="#计算机系统" aria-label="Permalink to &quot;计算机系统&quot;">​</a></h2><h3 id="wsl-配置" tabindex="-1">WSL 配置 <a class="header-anchor" href="#wsl-配置" aria-label="Permalink to &quot;WSL 配置&quot;">​</a></h3><p>在程序与功能中勾选并开放 wsl 的权限，并重启电脑进行加载 wsl 的配置文件</p><p><img src="'+l+'" alt="alt text" data-fancybox="gallery"></p><p><img src="'+p+'" alt="alt text" data-fancybox="gallery"></p><div class="info custom-block"><p class="custom-block-title">常用命令</p><ul><li>查看运行的子系统</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">wsl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --list</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --verbose</span></span></code></pre></div><ul><li>在 WSL 中检查 /etc/rc.local 文件是否存在：</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">wsl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Ubuntu-18.04</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -u</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ls</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/rc.local</span></span></code></pre></div></div><p><img src="'+n+'" alt="alt text" data-fancybox="gallery"></p><h3 id="ubuntu-安装" tabindex="-1">ubuntu 安装 <a class="header-anchor" href="#ubuntu-安装" aria-label="Permalink to &quot;ubuntu 安装&quot;">​</a></h3><p>（1）打开 Microsoft Store 应用商店下载 Ubantu18.04</p><p><img src="'+e+'" alt="alt text" data-fancybox="gallery"></p><p>（2）直接安装并配置对应的用户账号和密码</p><div class="info custom-block"><p class="custom-block-title">默认配置</p><p>普通账号：</p><ul><li>tonglei</li><li>h_9</li></ul><p>管理员：</p><ul><li>root</li><li>T_s</li></ul></div><div class="warning custom-block"><p class="custom-block-title">报错处理</p><p>问题 1 WslRegisterDistribution failed with Error: 0x8007019e</p><p><img src="'+h+'" alt="alt text" data-fancybox="gallery"></p><p>原因：Windows 功能中未启用【适用于 Linux 的 Windows 子系统】</p></div><p>（3）查看 windos 及 ubuntu 的 IP 地址 <img src="'+k+'" alt="alt text" data-fancybox="gallery"></p><p><img src="'+d+`" alt="alt text" data-fancybox="gallery"></p><h3 id="读取系统盘" tabindex="-1">读取系统盘 <a class="header-anchor" href="#读取系统盘" aria-label="Permalink to &quot;读取系统盘&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">//</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> c</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> d</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 盘</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ls</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /mnt/</span></span></code></pre></div><p><img src="`+o+`" alt="alt text" data-fancybox="gallery"></p><h2 id="远程连接" tabindex="-1">远程连接 <a class="header-anchor" href="#远程连接" aria-label="Permalink to &quot;远程连接&quot;">​</a></h2><h3 id="免密登录" tabindex="-1">免密登录 <a class="header-anchor" href="#免密登录" aria-label="Permalink to &quot;免密登录&quot;">​</a></h3><p>（1）切换使用 root 用户</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>su</span></span>
<span class="line"><span>&gt;&gt;输入root密码</span></span></code></pre></div><p>（2）如果没有为 root 创建密码则先设置</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>sudo passwd root</span></span></code></pre></div><p>（3）生成密钥</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>ssh-keygen</span></span></code></pre></div><p>（4）将生成的公钥拷贝到要映射的主机</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>ssh-copy-id -i ~/.ssh/id_rsa.pub ubuntu@123.206.175.241</span></span>
<span class="line"><span>ssh-copy-id ubuntu@123.206.175.241</span></span></code></pre></div><p>（5）测试免密登陆</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>ssh ubuntu@123.206.175.241</span></span></code></pre></div><h3 id="ssh-远程" tabindex="-1">ssh 远程 <a class="header-anchor" href="#ssh-远程" aria-label="Permalink to &quot;ssh 远程&quot;">​</a></h3><div class="warning custom-block"><p class="custom-block-title">注意</p><p>Ubuntu 子系统自带的 ssh 服务无法连接，需卸载后重新安装。</p></div><p>（1）卸载重装 openssh-server</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt-get</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> remove</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> openssh-server</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt-get</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> openssh-server</span></span></code></pre></div><p>（2）编辑/etc/ssh/sshd_config 文件</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vim</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/ssh/sshd_config</span></span></code></pre></div><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">//</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 修改下述信息</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Port</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2222</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 修改端口号，避免和 Windows ssh 服务端口冲突</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">UsePrivilegeSeparation</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> yes</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 使用密码登录</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">PermitRootLogin</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> yes</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 允许使用 root 用户登录</span></span></code></pre></div><p>（3）重启 ssh 服务</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> service</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ssh</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> restart</span></span></code></pre></div><p>（4）查看 ssh 服务是否启动</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> service</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ssh</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> status</span></span></code></pre></div><p>（5）xshell 本机连接测试</p><p><img src="`+r+'" alt="alt text" data-fancybox="gallery"></p><p>（6）xshell 局域网连接测试</p><h3 id="反向代理" tabindex="-1">反向代理 <a class="header-anchor" href="#反向代理" aria-label="Permalink to &quot;反向代理&quot;">​</a></h3><p>（1）安装 autossh</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt-get</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> autossh</span></span></code></pre></div><p>（2）配置信息</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">autossh</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -M</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 45050</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -fCNR</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;*:40050:127.0.0.1:2222&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ubuntu@123.206.175.241</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -o</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ServerAliveInterval=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">60</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &amp;</span></span></code></pre></div><p>（3）查看是否开启 <img src="'+c+'" alt="alt text" data-fancybox="gallery"></p><p>（4）建立连接</p><p><img src="'+g+'" alt="alt text" data-fancybox="gallery"></p><h3 id="系统自启" tabindex="-1">系统自启 <a class="header-anchor" href="#系统自启" aria-label="Permalink to &quot;系统自启&quot;">​</a></h3><p>（1）在 windows 下添加启动脚本，确保开机启动 linux 下的相关程序。</p><p><img src="'+F+`" alt="alt text" data-fancybox="gallery"></p><div class="info custom-block"><p class="custom-block-title">命令解析</p><ul><li>创建一个 WScript.Shell 对象并将其赋值给变量 ws。这个对象可以用于执行命令和操作系统操作。</li><li>使用 WScript.Shell 对象的 Run 方法来运行命令 &quot;wsl -d Ubuntu-18.04 -u root /etc/rc.local&quot;。</li><li>vbhide 是一个常量，用于指定隐藏命令窗口。</li></ul></div><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Set</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ws=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> CreateObject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">&quot;Wscript.Shell&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ws.run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;wsl -d Ubuntu-18.04 -u root /etc/rc.local&quot;,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> vbhide</span></span></code></pre></div><p>（2）ubuntu 配置自启文件</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vim</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/rc.local</span></span></code></pre></div><p>（3）添加以下内容</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#!/bin/sh</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#启动 ssh 服务</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">/etc/init.d/ssh</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> start</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#启动反向代理</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">autossh</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -M</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 45050</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -fCNR</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;*:40050:127.0.0.1:2222&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ubuntu@123.206.175.241</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -o</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ServerAliveInterval=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">60</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &amp;</span></span></code></pre></div><div class="warning custom-block"><p class="custom-block-title">问题排查：未能启动子系统的 rc.local 文件</p><ol><li><p>文件路径问题 首先，确保 /etc/rc.local 文件存在并且具有可执行权限。在 Ubuntu 中，默认情况下这个文件可能不存在或者没有可执行权限。</p></li><li><p>WSL 命令格式问题 在使用 Wscript.Shell 运行 WSL 命令时，确保命令格式正确。</p></li><li><p>权限问题 确保你以管理员身份运行脚本，因为某些操作可能需要提升权限。</p></li></ol><p>检查和创建 /etc/rc.local 首先，在 WSL 中检查 /etc/rc.local 文件是否存在：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">wsl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Ubuntu-18.04</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -u</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ls</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/rc.local</span></span></code></pre></div><p>如果文件不存在，可以创建它，并赋予执行权限：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">wsl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Ubuntu-18.04</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -u</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> touch</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/rc.local</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">wsl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Ubuntu-18.04</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -u</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> chmod</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> +x</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/rc.local</span></span></code></pre></div></div><h2 id="环境搭建" tabindex="-1">环境搭建 <a class="header-anchor" href="#环境搭建" aria-label="Permalink to &quot;环境搭建&quot;">​</a></h2><h3 id="java" tabindex="-1">Java <a class="header-anchor" href="#java" aria-label="Permalink to &quot;Java&quot;">​</a></h3><p>(1) 查找合适的 openjdk 版本</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">apt-cache</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> search</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> openjdk</span></span></code></pre></div><p>（2）安装</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt-get</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> openjdk-8-jdk</span></span></code></pre></div><p>(3) 配置环境变量</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vim</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/.bashrc</span></span></code></pre></div><p>如何编辑？【i:进入编辑模式 esc:退出编辑 :wq 保存】</p><p>在最后一行加上:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> JAVA_HOME</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">/usr/lib/jvm/java-8-openjdk-amd64</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> PATH</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$JAVA_HOME/bin:$PATH</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> CLASSPATH</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar</span></span></code></pre></div><p>(4) 执行 java -version 查看 java 版本</p><h3 id="mysql" tabindex="-1">Mysql <a class="header-anchor" href="#mysql" aria-label="Permalink to &quot;Mysql&quot;">​</a></h3><p>(1) 安装</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 安装mysql服务</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt-get</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mysql-server</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 安装客户端</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mysql-client</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 安装依赖</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> libmysqlclient-dev</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 检查状态</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> netstat</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -tap</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> grep</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mysql</span></span></code></pre></div><p>(2) 查看已有账号</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cat</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/mysql/debian.cnf</span></span></code></pre></div><p><img src="`+u+`" alt="alt text" data-fancybox="gallery"></p><p>(3) 登录</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mysql</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -udebian-sys-maint</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -pUeZ2cqlXjvRe8zsL</span></span></code></pre></div><p>(4) 查看数据库</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">show</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> databases</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div><p>(5) 使用 ‘mysql’这个库</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">use</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mysql</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">update</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> user</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> set</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> authentication_string=PASSWORD</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">&quot;自定义密码&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">where</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> user=&#39;root&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">update</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> user</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> set</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> plugin=&quot;mysql_native_password&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">flush</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> privileges</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">quit</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div><p>(6) 重启</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">/etc/init.d/mysql</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> restart</span></span></code></pre></div><h2 id="项目应用" tabindex="-1">项目应用 <a class="header-anchor" href="#项目应用" aria-label="Permalink to &quot;项目应用&quot;">​</a></h2><h3 id="公司测试" tabindex="-1">公司测试 <a class="header-anchor" href="#公司测试" aria-label="Permalink to &quot;公司测试&quot;">​</a></h3><p><img src="`+y+'" alt="alt text" data-fancybox="gallery"></p>',98),v=[C];function m(B,E,_,q,x,f){return a(),i("div",null,v)}const D=s(b,[["render",m]]);export{w as __pageData,D as default};
